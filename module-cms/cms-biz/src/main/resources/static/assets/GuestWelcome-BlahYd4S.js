import{d as T,u as E,i as L,p as I,r as V,h as n,c as k,o as c,e as t,f as s,w as o,v as x,A as S,F as U,y as W,n as r,z as h,j as d,k as A,W as C,X as F,Y as G,E as i}from"./index-C8i0fY7D.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";const j={class:"welcome-container"},M={class:"welcome-card"},X={class:"info-row"},Y={class:"role-tags"},H={class:"notice-section"},J={class:"request-section"},K={class:"request-item"},O={class:"request-label"},P={class:"request-value"},Q={class:"request-item"},Z={class:"request-label"},ee={class:"request-value"},te={class:"request-item"},se={class:"request-label"},oe={class:"request-value"},le={class:"action-section"},ae=T({__name:"GuestWelcome",setup(ne){const p=E(),z=L(),_=I(()=>{var l;return((l=p.adminInfo)==null?void 0:l.adminId)||"未登录"}),b=I(()=>{var l;return((l=p.adminInfo)==null?void 0:l.roleList)||[]}),v=V(""),m=V(""),N=async(l,e)=>{try{if(!navigator.clipboard){i.warning("您的浏览器不支持自动复制");return}await navigator.clipboard.writeText(l),i.success(`${e}已复制到剪贴板`)}catch(u){console.error("复制失败:",u),i.error("复制失败，请手动处理")}},$=async()=>{const l=`
=== 权限申请信息 ===
用户ID: ${_.value}
所属部门: ${v.value||"未填写"}
需要的角色: ${m.value||"未填写"}
==================
  `.trim();try{if(!navigator.clipboard){i.warning("您的浏览器不支持自动复制，请手动复制");return}await navigator.clipboard.writeText(l),i.success("已复制所有信息到剪贴板，请发送给管理员")}catch(e){console.error("复制失败:",e),i.error("复制失败，请手动复制")}},B=async()=>{await p.logout(),z.push("/login")};return(l,e)=>{const u=n("el-tag"),w=n("el-card"),D=n("el-alert"),f=n("el-icon"),g=n("el-button"),y=n("el-input"),q=n("el-divider");return c(),k("div",j,[t("div",M,[e[14]||(e[14]=t("h1",{class:"welcome-title"},"欢迎访问管理系统",-1)),s(w,{class:"user-info-card",shadow:"never"},{default:o(()=>[t("div",X,[e[4]||(e[4]=t("span",{class:"info-label"},"当前角色:",-1)),t("div",Y,[(c(!0),k(U,null,W(b.value,a=>(c(),x(u,{key:a.id,type:"info",size:"large",class:"role-tag"},{default:o(()=>[r(h(a.roleName),1)]),_:2},1024))),128)),b.value.length===0?(c(),x(u,{key:0,type:"info",size:"large"},{default:o(()=>[...e[3]||(e[3]=[r(" 游客 ",-1)])]),_:1})):S("",!0)])])]),_:1}),t("div",H,[s(D,{type:"warning",closable:!1,"show-icon":""},{title:o(()=>[...e[5]||(e[5]=[t("div",{class:"alert-title"},"访问受限提示",-1)])]),default:o(()=>[e[6]||(e[6]=t("div",{class:"alert-content"},[t("p",{class:"notice-text"}," 这是一个内部管理系统，不对外提供访问。 "),t("p",{class:"notice-text"}," 如果您是系统使用人员，请联系管理员分配相应权限。 ")],-1))]),_:1})]),t("div",J,[e[13]||(e[13]=t("h2",{class:"section-title"},"申请权限需提供以下信息",-1)),s(w,{class:"request-card",shadow:"hover"},{default:o(()=>[t("div",K,[t("div",O,[s(f,{class:"item-icon"},{default:o(()=>[s(d(A))]),_:1}),e[7]||(e[7]=t("span",null,"用户ID",-1))]),t("div",P,[s(y,{value:_.value,readonly:"",class:"readonly-input"},{append:o(()=>[s(g,{icon:d(C),onClick:e[0]||(e[0]=a=>N(_.value,"用户ID")),class:"copy-button"},{default:o(()=>[...e[8]||(e[8]=[r(" 复制 ",-1)])]),_:1},8,["icon"])]),_:1},8,["value"])])]),s(q),t("div",Q,[t("div",Z,[s(f,{class:"item-icon"},{default:o(()=>[s(d(F))]),_:1}),e[9]||(e[9]=t("span",null,"所属部门",-1))]),t("div",ee,[s(y,{modelValue:v.value,"onUpdate:modelValue":e[1]||(e[1]=a=>v.value=a),placeholder:"请填写您的部门名称",clearable:""},null,8,["modelValue"])])]),s(q),t("div",te,[t("div",se,[s(f,{class:"item-icon"},{default:o(()=>[s(d(G))]),_:1}),e[10]||(e[10]=t("span",null,"需要的角色",-1))]),t("div",oe,[s(y,{modelValue:m.value,"onUpdate:modelValue":e[2]||(e[2]=a=>m.value=a),placeholder:"请填写需要的角色，如：编辑、管理员等",clearable:""},null,8,["modelValue"])])])]),_:1}),t("div",le,[s(g,{type:"primary",size:"large",onClick:$,icon:d(C),class:"copy-all-button"},{default:o(()=>[...e[11]||(e[11]=[r(" 一键复制所有信息 ",-1)])]),_:1},8,["icon"]),s(g,{size:"large",onClick:B,class:"logout-button"},{default:o(()=>[...e[12]||(e[12]=[r(" 退出登录 ",-1)])]),_:1})])])])])}}}),de=R(ae,[["__scopeId","data-v-21aa36b7"]]);export{de as default};
